<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <script>

            document.getElementById("deleteForm").addEventListener("submit", function(event){
                event.preventDefault(); // Prevents default form submission of POST request

                var firstName = document.getElementById("firstNameDel").value;
                var lastName = document.getElementById("lastNameDel").value;

                fetch('/addordelete/deleteGuest', {

                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: new URLSearchParams({firstNameDel: firstName, lastNameDel: lastName})

                    }).then(response => {
                        if(response.ok){
                            window.location.href="/modify";
                        } else{
                            alert("Error deleting guest");
                        }

                     });
            });


    </script>


    <meta charset="UTF-8">
    <title>Landon Hotel: Add or Delete Guests</title>

</head>
<body>
<h1 >Add a new guest</h1>

<form method="POST" action="/addordelete/addGuest" th:object="${guest}">
    <label for="firstName">First Name:</label>
    <input type="text" id="firstName" name="firstName" th:field="*{firstName}" required><br><br>

    <label for="lastName">Last Name:</label>
    <input type="text" id="lastName" name="lastName" th:field="*{lastName}" required><br><br>

    <label for="address">Address:</label>
    <input type="text" id="address" name="address" th:field="*{address}" required><br><br>

    <label for="email">Email:</label>
    <input type="text" id="email" name="email" th:field="*{emailAddress}" required><br><br>

    <label for="country">Country:</label>
    <input type="text" id="country" name="country" th:field="*{country}" required><br><br>

    <label for="state">State:</label>
    <input type="text" id="state" name="state" th:field="*{state}"required><br><br>

    <label for="phoneNumber">Phone-number:</label>
    <input type="text" id="phoneNumber" name="phoneNumber" th:field="*{phoneNumber}" required><br><br>

    <button type="submit">Submit Guest to be Added</button>
</form>


<h1> Delete a Guest</h1>

<form id="deleteForm" method="POST" action="/addordelete/deleteGuest">

    <label for="firstName">First Name:</label>
    <input type="text" id="firstNameDel" name="firstNameDel" required><br><br>

    <label for="lastName">Last Name:</label>
    <input type="text" id="lastNameDel" name="lastNameDel" required><br><br>

    <button type="submit">Submit Guest for Deletion</button>


</form>

<!--<h2>Guest Information</h2>-->
<!--<p>First Name: <span th:text="${guest.firstName}"></span></p>-->
<!--<p>Last Name: <span th:text="${guest.lastName}"></span></p>-->
<!--<p>Address: <span th:text="${guest.address}"></span></p>-->
<!--<p>Email: <span th:text="${guest.emailAddress}"></span></p>-->
<!--<p>Country: <span th:text="${guest.country}"></span></p>-->
<!--<p>State: <span th:text="${guest.state}"></span></p>-->
<!--<p>Phone-number: <span th:text="${guest.phoneNumber}"></span></p>-->



</body>
</html>